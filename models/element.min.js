/*
 * element.js DOM Element Model v0.1.3 for Internet Explorer < 8
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 09-05-2012
 */
(function(e,m){var b=e.document;if(!e.Element&&b.attachEvent){var n=!1,q=b.getElementById,k=b.getElementsByTagName,r=b.createElement,s=b.createDocumentFragment,g=b.attachEvent,i=[],l=[],o={},p=function(){},h,t=function(){"innerHTML"===e.event.propertyName&&d(e.event.srcElement)},d=function(a,b,d){var e=l.length,g,f,j,c;if(a&&a.nodeType||!a)a=a&&a.getElementsByTagName("*")||k("*");for(g=a.length;c=a[--g];)if(1===c.nodeType){if(c.$_sIdx&&c.parentNode&&c.document&&11!==c.document.nodeType){for(i.splice(--c.$_sIdx,
1);f=i[c.$_sIdx++];)f.$_sIdx=c.$_sIdx;c.$_sIdx=m}if(!d||d===c)if(b)c[b]!==h[b]&&(c[b]=h[b]);else{for(f=e;j=l[--f];)c[j]!==h[j]&&(c[j]=h[j]);c.$_sOPC||(c.$_sOPC=1,c.attachEvent("onpropertychange",t))}}return a[0]||null};p.prototype=h=b.createComment("");h.attachEvent("onpropertychange",function(){var a=e.event.propertyName;o[a]===m&&(o[a]=l.push(a)-1);d(b,a);d(i,a)});b.documentElement.firstChild.appendChild(h);b.getElementById=function(a){return d([q(a)])};b.createElement=function(a){a=r(a);a.$_sIdx=
i.push(a);d(i,null,a);return a};b.createDocumentFragment=function(){return d([s()])};e.Element=p;if("complete"===b.readyState)d();else{var f=function(){!n&&"complete"===b.readyState&&(n=!0,b.detachEvent("onreadystatechange",f),b.attachEvent=g,b.getElementsByTagName=k,d())};g("onreadystatechange",f);e.attachEvent("onload",f);b.attachEvent=function(a,d){if("onreadystatechange"===a){b.detachEvent(a,f);var e=g(a,d);g(a,f);return e}return g(a,d)};b.getElementsByTagName=function(a){d();return k(a)}}}})(window);
